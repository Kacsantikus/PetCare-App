<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="test.Views.PetsPage"
    x:Name="PetsPageRoot"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

    <Grid
        Padding="16"
        RowSpacing="16"
        RowDefinitions="Auto,*">

        <!-- FEJLÃ‰C + Å°RLAP -->
        <VerticalStackLayout Grid.Row="0" Spacing="12">

            <!-- CÃ­m -->
            <Label
                Text="Ãllataim"
                FontSize="24"
                FontAttributes="Bold" />

            <!-- Å°rlap egy kÃ¡rtyÃ¡ban -->
            <Frame
                HasShadow="True"
                CornerRadius="12"
                Padding="12"
                Margin="0,4,0,0">

                <VerticalStackLayout Spacing="8">

                    <Entry
                        Placeholder="NÃ©v"
                        Text="{Binding Name}" />

                    <Entry
                        Placeholder="Faj / tÃ­pus"
                        Text="{Binding Species}" />

                    <DatePicker
                        Date="{Binding BirthDate}" />

                    <!-- KÃ©p + fotÃ³ gomb -->
                    <HorizontalStackLayout Spacing="8">

                        <Frame
                            WidthRequest="120"
                            HeightRequest="120"
                            Padding="0"
                            HasShadow="True"
                            CornerRadius="12">

                            <Image
                                Source="{Binding PhotoPath}"
                                Aspect="AspectFill" />
                        </Frame>

                        <Button
                            Text="ðŸ“· FotÃ³ hozzÃ¡adÃ¡sa"
                            Clicked="OnPickPhotoClicked" />
                    </HorizontalStackLayout>

                    <Editor
                        Placeholder="MegjegyzÃ©s"
                        HeightRequest="80"
                        Text="{Binding Notes}" />

                    <HorizontalStackLayout Spacing="8">
                        <Button
                            Text="MentÃ©s"
                            Clicked="OnSaveClicked" />

                        <Button
                            Text="BetÃ¶ltÃ©s"
                            Clicked="OnLoadClicked" />
                    </HorizontalStackLayout>

                </VerticalStackLayout>
            </Frame>
        </VerticalStackLayout>

        <!-- LISTA ALUL -->
        <CollectionView
            Grid.Row="1"
            ItemsSource="{Binding Pets}"
            SelectionMode="None">

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame
                        Margin="0,0,0,8"
                        Padding="10"
                        CornerRadius="12"
                        HasShadow="True">

                        <Grid
                            ColumnDefinitions="*,Auto,Auto,Auto"
                            ColumnSpacing="8">

                            <VerticalStackLayout Spacing="2">
                                <Label
                                    Text="{Binding Name}"
                                    FontAttributes="Bold"
                                    FontSize="16" />
                                <Label
                                    Text="{Binding Species}"
                                    FontSize="12"
                                    TextColor="Gray" />
                            </VerticalStackLayout>

                            <Button
                                Grid.Column="1"
                                Text="Szerk."
                                Clicked="OnEditClicked" />

                            <Button
                                Grid.Column="2"
                                Text="TÃ¶rlÃ©s"
                                Clicked="OnDeleteClicked" />

                            <Button
                                Grid.Column="3"
                                Text="Vizitek"
                                Clicked="OnVisitsClicked" />
                        </Grid>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </Grid>
</ContentPage>
